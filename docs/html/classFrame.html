<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Valkka: Frame Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Valkka
   &#160;<span id="projectnumber">0.14.0</span>
   </div>
   <div id="projectbrief">OpenSource Video Management</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classFrame-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Frame Class Reference<div class="ingroups"><a class="el" href="group__frames__tag.html">the frame class</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a>: An abstract queueable class.  
 <a href="classFrame.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="frame_8h_source.html">frame.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Frame:</div>
<div class="dyncontent">
<div class="center"><img src="classFrame__inherit__graph.png" border="0" usemap="#Frame_inherit__map" alt="Inheritance graph"/></div>
<map name="Frame_inherit__map" id="Frame_inherit__map">
<area shape="rect" id="node2" href="classAVMediaFrame.html" title="Decoded Frame in FFmpeg format. " alt="" coords="9,80,121,107"/>
<area shape="rect" id="node5" href="classBasicFrame.html" title="Custom payload Frame. " alt="" coords="145,80,237,107"/>
<area shape="rect" id="node6" href="classMarkerFrame.html" title="MarkerFrame" alt="" coords="262,80,361,107"/>
<area shape="rect" id="node7" href="classMuxFrame.html" title="A muxed packet (in some container format) " alt="" coords="385,80,469,107"/>
<area shape="rect" id="node8" href="classRGBFrame.html" title="Our own RGB24 structure. " alt="" coords="494,80,582,107"/>
<area shape="rect" id="node9" href="classSetupFrame.html" title="Setup frame. " alt="" coords="606,80,699,107"/>
<area shape="rect" id="node10" href="classSignalFrame.html" title="A frame signaling internal thread commands, states of recorded video, etc. " alt="" coords="724,80,819,107"/>
<area shape="rect" id="node11" href="classYUVFrame.html" title="A GPU YUV frame. " alt="" coords="843,80,929,107"/>
<area shape="rect" id="node3" href="classAVBitmapFrame.html" title="Decoded YUV/RGB frame in FFMpeg format. " alt="" coords="5,155,124,181"/>
<area shape="rect" id="node4" href="classAVRGBFrame.html" title="Decoded YUV frame in a non&#45;planar format (thus &quot;NP&quot;) " alt="" coords="11,229,118,256"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad2e5946cf41d4817e750500acf05d02b"><td class="memItemLeft" align="right" valign="top"><a id="ad2e5946cf41d4817e750500acf05d02b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#ad2e5946cf41d4817e750500acf05d02b">Frame</a> ()</td></tr>
<tr class="memdesc:ad2e5946cf41d4817e750500acf05d02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default ctor. <br /></td></tr>
<tr class="separator:ad2e5946cf41d4817e750500acf05d02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec8c7bccdfc88cb4da137caae9f73d6"><td class="memItemLeft" align="right" valign="top"><a id="abec8c7bccdfc88cb4da137caae9f73d6"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#abec8c7bccdfc88cb4da137caae9f73d6">~Frame</a> ()</td></tr>
<tr class="memdesc:abec8c7bccdfc88cb4da137caae9f73d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default virtual dtor. <br /></td></tr>
<tr class="separator:abec8c7bccdfc88cb4da137caae9f73d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc36bf512f9e5629b6c6075ab5563ddd"><td class="memItemLeft" align="right" valign="top"><a id="adc36bf512f9e5629b6c6075ab5563ddd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>frame_essentials</b> (<a class="el" href="group__frames__tag.html#gga4c17b19991c62a93b7a272b92037d69aa334c4a4c42fdb79d7ebc3e73b517e6f8">FrameClass::none</a>, <a class="el" href="classFrame.html">Frame</a>)</td></tr>
<tr class="separator:adc36bf512f9e5629b6c6075ab5563ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4000e969c704636a03558cd170b3759a"><td class="memItemLeft" align="right" valign="top"><a id="a4000e969c704636a03558cd170b3759a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>frame_clone</b> (<a class="el" href="group__frames__tag.html#gga4c17b19991c62a93b7a272b92037d69aa334c4a4c42fdb79d7ebc3e73b517e6f8">FrameClass::none</a>, <a class="el" href="classFrame.html">Frame</a>)</td></tr>
<tr class="separator:a4000e969c704636a03558cd170b3759a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4723db799543168c63e092dc398f0fc"><td class="memItemLeft" align="right" valign="top"><a id="ae4723db799543168c63e092dc398f0fc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#ae4723db799543168c63e092dc398f0fc">print</a> (std::ostream &amp;os) const</td></tr>
<tr class="memdesc:ae4723db799543168c63e092dc398f0fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produces frame output. <br /></td></tr>
<tr class="separator:ae4723db799543168c63e092dc398f0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e9ae3eac3e0efcb3684723ff77cf34"><td class="memItemLeft" align="right" valign="top"><a id="a13e9ae3eac3e0efcb3684723ff77cf34"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a13e9ae3eac3e0efcb3684723ff77cf34">dumpPayload</a> ()</td></tr>
<tr class="memdesc:a13e9ae3eac3e0efcb3684723ff77cf34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps internal payload data. <br /></td></tr>
<tr class="separator:a13e9ae3eac3e0efcb3684723ff77cf34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9392d8c803ee50e3bbdea2dee76aeecc"><td class="memItemLeft" align="right" valign="top"><a id="a9392d8c803ee50e3bbdea2dee76aeecc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a9392d8c803ee50e3bbdea2dee76aeecc">dumpPayloadToFile</a> (std::ofstream &amp;fout)</td></tr>
<tr class="memdesc:a9392d8c803ee50e3bbdea2dee76aeecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps internal payload data into a file. <br /></td></tr>
<tr class="separator:a9392d8c803ee50e3bbdea2dee76aeecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31aee47f16abb8322dd96860a4363fda"><td class="memItemLeft" align="right" valign="top"><a id="a31aee47f16abb8322dd96860a4363fda"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a31aee47f16abb8322dd96860a4363fda">update</a> ()</td></tr>
<tr class="memdesc:a31aee47f16abb8322dd96860a4363fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update internal auxiliary state variables. <br /></td></tr>
<tr class="separator:a31aee47f16abb8322dd96860a4363fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab104eb93ef2212c4c2112f91d340ba50"><td class="memItemLeft" align="right" valign="top"><a id="ab104eb93ef2212c4c2112f91d340ba50"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#ab104eb93ef2212c4c2112f91d340ba50">reset</a> ()</td></tr>
<tr class="memdesc:ab104eb93ef2212c4c2112f91d340ba50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the internal data. <br /></td></tr>
<tr class="separator:ab104eb93ef2212c4c2112f91d340ba50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a25cfc2631c607e731468acc933f3d"><td class="memItemLeft" align="right" valign="top"><a id="a67a25cfc2631c607e731468acc933f3d"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a67a25cfc2631c607e731468acc933f3d">isSeekable</a> ()</td></tr>
<tr class="memdesc:a67a25cfc2631c607e731468acc933f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can we seek to this frame? (e.g. is it a key-frame .. for H264 sps packets are used as seek markers) <br /></td></tr>
<tr class="separator:a67a25cfc2631c607e731468acc933f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c53ebcfa6464e67aa91078b2289240"><td class="memItemLeft" align="right" valign="top"><a id="a94c53ebcfa6464e67aa91078b2289240"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a94c53ebcfa6464e67aa91078b2289240">copyMetaFrom</a> (<a class="el" href="classFrame.html">Frame</a> *f)</td></tr>
<tr class="memdesc:a94c53ebcfa6464e67aa91078b2289240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy metadata (slot, subsession index, timestamp) to this frame. <br /></td></tr>
<tr class="separator:a94c53ebcfa6464e67aa91078b2289240"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afceac675e9e36fdf011aaa605d78c3d9"><td class="memItemLeft" align="right" valign="top"><a id="afceac675e9e36fdf011aaa605d78c3d9"></a>
SlotNumber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#afceac675e9e36fdf011aaa605d78c3d9">n_slot</a></td></tr>
<tr class="memdesc:afceac675e9e36fdf011aaa605d78c3d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slot number identifying the media source. <br /></td></tr>
<tr class="separator:afceac675e9e36fdf011aaa605d78c3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb7ebe4689c2d14ff027ba4cfe1cb1d"><td class="memItemLeft" align="right" valign="top"><a id="a9eb7ebe4689c2d14ff027ba4cfe1cb1d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#a9eb7ebe4689c2d14ff027ba4cfe1cb1d">subsession_index</a></td></tr>
<tr class="memdesc:a9eb7ebe4689c2d14ff027ba4cfe1cb1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Media subsession index. <br /></td></tr>
<tr class="separator:a9eb7ebe4689c2d14ff027ba4cfe1cb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6de613c5c8bb6b383dc108cef6c415f"><td class="memItemLeft" align="right" valign="top"><a id="ae6de613c5c8bb6b383dc108cef6c415f"></a>
long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#ae6de613c5c8bb6b383dc108cef6c415f">mstimestamp</a></td></tr>
<tr class="memdesc:ae6de613c5c8bb6b383dc108cef6c415f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Presentation time stamp (PTS) in milliseconds. <br /></td></tr>
<tr class="separator:ae6de613c5c8bb6b383dc108cef6c415f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab114ed8f04347ba62ea8a910bd318233"><td class="memItemLeft" align="right" valign="top"><a id="ab114ed8f04347ba62ea8a910bd318233"></a>
<a class="el" href="group__frames__tag.html#ga4c17b19991c62a93b7a272b92037d69a">FrameClass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrame.html#ab114ed8f04347ba62ea8a910bd318233">frameclass</a></td></tr>
<tr class="memdesc:ab114ed8f04347ba62ea8a910bd318233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares frametype for correct typecast. Used by Frame::getFrameClass() <br /></td></tr>
<tr class="separator:ab114ed8f04347ba62ea8a910bd318233"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a>: An abstract queueable class. </p>
<p>Instances of this class can be placed into FrameFifos and passed through FrameFilters (see the <a class="el" href="classFrameFifo.html" title="A thread-safe combination of a fifo (first-in-first-out) queue and an associated stack. ">FrameFifo</a> and <a class="el" href="classFrameFilter.html" title="The mother class of all frame filters! FrameFilters are used to create &quot;filter chains&quot;. ">FrameFilter</a> classes). They have characteristic internal data, defined in child classes.</p>
<p>The internal data can be paylod, information for decoder setup, signals to threads, etc.</p>
<p>FrameFifos and FrameFilters are responsible for checking the exact type of the <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a>, performing correct typecast and using/discarding/modificating the <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a>.</p>
<p>All <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a> classes can be put through FrameFilters, but not all <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a> classes are copyable/queueable. Copyable <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a> instances can be placed in a <a class="el" href="classFrameFifo.html" title="A thread-safe combination of a fifo (first-in-first-out) queue and an associated stack. ">FrameFifo</a> (that creates a copy of the <a class="el" href="classFrame.html" title="Frame: An abstract queueable class. ">Frame</a> before queuing it).</p>
<p>A <a class="el" href="classFrameFifo.html" title="A thread-safe combination of a fifo (first-in-first-out) queue and an associated stack. ">FrameFifo</a> can also decide to transform the frame to another type before placing it into the queue.</p>
<p>The internal data (and state of the object) consists typically of managed objects, created with external libraries (say, FFmpeg/libav) and "helper" objects/members. In the case of FFmpeg these are auxiliary members that make the use of the underlying FFmpeg objects more transparent. State of the managed objects and the helper objects must be kept consistent.</p>
<p>When the state of the managed object(s) is changed, call "updateFrom" with const parameters. This also makes it more transparent, which parameters trigger updates in helper (and managed) objects. </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sampsa/C/valkka/include/<a class="el" href="frame_8h_source.html">frame.h</a></li>
<li>/home/sampsa/C/valkka/src/<a class="el" href="frame_8cpp.html">frame.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
